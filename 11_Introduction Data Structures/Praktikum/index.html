<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Adela</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <nav class="navbar bg-body-tertiary">
        <div class="container-fluid">
          <a class="navbar-brand" href="#">Simple Header</a>
          <ul class="nav justify-content-end nav-pills">
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="#">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">Features</a> 
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">Pricing</a>
            </li>
            <li class="nav-item">
              <a class="nav-link">FAQs</a>
            </li>
            <li class="nav-item">
                <a class="nav-link">About</a>
          </ul>
        </div>
      </nav>
      <div class="container "></div>
      <main>
        <div class="container"> 
            <a class="navbar-logo" href="#">
                <img class="logo" src="bootstrap-logo.svg.svg" alt="Bootstrap">
              </a>
            <h2>Create Product</h2>
            <p>Below is an example form built entirely with Bootstrapâ€™s form controls. Each required form group has a<br> 
            validation state that can be triggered by attempting to submit the form without completing it.</p>
        </div>
      <!-- Form -->
      <div class="container">
        <div class="row">
            <div class="row justify-content-center">
                    <div class="col">
                        <form class="justify-content-end needs-validation" id="form" novalidate>
                            <h2 style="font-size: 23px;">Detail Product</h2>
                            <!-- Product Name -->
                            <div class="mb-3">
                                <label for="name" class="form-label">Product Name </label>
                                <div class="col-6">
                                <input type="text" class="form-control" id="produk-name" required>
                            </div>
                        </div>
                            <!-- Product Category -->
                            <div class="mb-3 col-5">
                                <label for="productcategory" class="form-label">Product Category </label>
                                <select class="form-select" aria-label="productcategory"
                                    aria-placeholder="Choose...." id="kategori1" required>
                                    <option value="A">One</option>
                                    <option value="B">Two</option>
                                    <option value="C">Three</option>
                                </select>
                                <div class="invalid-feedback">
                                    Please choose a Product Category
                                </div>
                            </div>
                            <!-- Image of Product -->
                            <div class="mb-3">
                                <label for="imageofproduct" class="form-label">Image of Product</label>
                                <div class="col-6">
                                    <input class="form-control btn btn-primary " type="file"
                                        id="imagefile" required>
                                </div>
                                <div class="invalid-feedback">
                                    Please choose an Image
                                </div>
                            </div>
                            <!-- Product Freshness -->
                            <div class="mb-3">
                                <label for="productfreshness" class="form-label">Product Freshness </label>
                                <div id="form-check has-validation">
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="freshness"
                                            id="freshness" value="Brand New" />
                                        <label class="form-check-label" for="brandnew">
                                            Brand New
                                        </label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="freshness"
                                            id="freshness" value="Second Hand" />
                                        <label class="form-check-label" for="secondhand">
                                            Second Hand
                                        </label>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="freshness"
                                            id="freshness" value="Refurbished" />
                                        <label class="form-check-label" for="Refurbished">
                                            Refurbished
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <!-- Additional Description-->
                            <label for="additionaldescription" class="form-label">Additional Description
                            </label>
                            <div class="input-group">
                                <textarea class="form-control" aria-label="With textarea"
                                    id="additionaldescription" cols="80" rows="6" required> </textarea>
                                <div class="invalid-feedback">
                                    Please fill out this field
                                </div>
                            </div>
                            <!-- Produk Price -->
                            <label for="productprice" class="form-label">Product Price </label>
                            <div class="mb-3">
                                <div class="col-2">
                                    <input type="number" class="form-control" id="produk-price"
                                        placeholder="$ 100" required>
                                </div>
                                <div class="invalid-feedback">
                                    Please fill out this field
                                </div>
                            </div>

                            <div class="col-auto">
                                <button type="submit" class="btn btn-primary" data-bs-toggle="modal"
                                    data-bs-target="#submit" id="btntambah">Submit</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <!-- Tabel -->
    <div style="padding: 20px;">
        <hr>
        <h2 style="text-align: center;">List Product</h2>
        <div class="d-flex justify-content-center" style="padding: 20px;">
            <form class="d-flex" role="search" id="search">
                <input class="form-control" type="search" placeholder="Search by Product Name"
                    aria-label="Search" id="cari">
                    <button class="btn btn-outline-primary" id="button-search">Search</button>
                    <button class="btn btn-danger" id="btnhapus">Delete</button>
                </form>
        </div>
        <div class="table-responsive">
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Product Name</th>
                        <th>Product Category</th>
                        <th>Image of Product</th>
                        <th>Product Freshness</th>
                        <th>Additional Description</th>
                        <th>Product Price</th>
                        
                    </tr>
                </thead>
                <tbody id="datatable">

                </tbody>
            </table>
        </div>
    </div>
</div>
</div>
</main>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
crossorigin="anonymous"></script>
<script>
(() => {
'use strict'

// Fetch all the forms we want to apply custom Bootstrap validation styles to
const forms = document.querySelectorAll('.needs-validation')

// Loop over them and prevent submission
Array.from(forms).forEach(form => {
    form.addEventListener('submit', event => {
        if (!form.checkValidity()) {
            event.preventDefault()
            event.stopPropagation()
        }

        form.classList.add('was-validated')
    }, false)
})
})()
</script>
<script>

const form = document.getElementById('form')
const produkname = document.getElementById('produk-name')
const kategori = document.getElementById('kategori1')
const image = document.getElementById('imagefile')
const price = document.getElementById('produk-price')
const deskripsi = document.getElementById('additionaldescription')
const tambah = document.getElementById('btntambah')
const simbol = /[!@#$%]/

const cari = document.getElementById('cari')
const search = document.getElementById('button-search')
const arraydata = []
const datatable = document.getElementById('datatable')
let row


tambah.addEventListener('click', function (e) {
e.preventDefault()
const pf = document.querySelector('input[name="freshness"]:checked');
if (produkname.value.length > 25) {
    return alert("Product Name must not be more than 25 characters")
} else if (!produkname.value) {
    return alert("Please enter a valid Prouct Name!")
} else if (!price.value) {
    return alert("Please enter a valid Product Price!")
} else if (produkname.value) {
    if (produkname.value.length > 10) {
        alert(`Length of the Product Name is ${produkname.value.length}. Product Name must not exceed 25 characters`)
    }
    if (produkname.value.match(simbol)) {
        return alert("Product Name must not contain symbol")
    }
} else if (!kategori.value || !pf || !image.value || !deskripsi.value) {
    return alert(`The field must be filled in`)
}
console.log(produkname.value)
console.log(kategori.value)
console.log(image.value,)
console.log(pf)
console.log(deskripsi.value)
console.log(price.value)


save(produkname.value, kategori.value, image.value, pf.value, deskripsi.value, price.value)
}
)

function save(produkname, kategori, image, pf, deskripsi, price) {
datatable.innerHTML = ''
arraydata.push([produkname, kategori, image, pf, deskripsi, price])
arraydata.forEach((data, i) => {
    let id = i + 1
    row = datatable.insertRow();
    row.insertCell().innerHTML = id
    data.forEach((item) => {
        row.insertCell().innerHTML = item
    })

})
}

search.addEventListener('click', function(e) {
e.preventDefault()
let searching = false
arraydata.forEach((data) => {
if (data[0] === cari.value) {
return searching = true
}
})
if (searching) {
alert(`Data ${cari.value} tersedia`)
} else {
alert(`Data ${cari.value} tidak tersedia`)
}
})

form.addEventListener('input', function () {
const valid = form.checkValidity();

if (valid) {
    tambah.removeAttribute('disabled')
} else {
    tambah.setAttribute('disabled', 'disabled')
}
})


</script>

</body>

</html>